---
description: 
globs: 
alwaysApply: true
---
# WordPress Docker Starter â€” Cursor Project Rules

## Purpose

This is a modern **Docker-based WordPress stack** designed for:

- Easy local development (Mac, Windows, Linux)
- Identical deploy to VPS / production
- Clean separation of code and data
- Version control only what's needed (themes, plugins, config)

## Architecture

- `wordpress:` container â†’ Apache + PHP + WordPress
- `db:` container â†’ MySQL 5.7
- Local port â†’ `http://localhost:8000`

## Folder structure

```
wordpress-docker-starter/
â”œâ”€â”€ .gitignore
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ .env.example
â”œâ”€â”€ config/
â”‚ â”œâ”€â”€ php/
â”‚ â”œâ”€â”€ nginx/
â”‚ â””â”€â”€ mysql/
â”œâ”€â”€ scripts/
â”‚ â”œâ”€â”€ backup.sh
â”‚ â”œâ”€â”€ restore.sh
â”‚ â””â”€â”€ setup.sh
â”œâ”€â”€ db_data/
â”œâ”€â”€ backups/
â”œâ”€â”€ logs/
â”œâ”€â”€ wordpress/
â”‚ â””â”€â”€ wp-content/
â””â”€â”€ README.md
```

## Volumes

- `./wordpress` is mounted to `/var/www/html` â†’ any theme/plugin edits are live.
- `./db_data` holds MySQL data â†’ persistent across container restarts.

## Local development workflow

```bash
# Start containers
docker-compose up -d

# Stop containers
docker-compose down

# View containers
docker ps
```

	â€¢	Initial site available at â†’ http://localhost:8000
	â€¢	First run will auto-install WordPress into ./wordpress folder.

What to commit

âœ… Commit:
	â€¢	docker-compose.yml
	â€¢	.gitignore
	â€¢	README.md
	â€¢	Custom themes â†’ wordpress/wp-content/themes/my-theme/
	â€¢	Custom plugins â†’ wordpress/wp-content/plugins/my-plugin/

ğŸš« Do not commit:
	â€¢	db_data/
	â€¢	wordpress/wp-content/uploads/ (optional â€” unless needed)
	â€¢	wordpress/wp-config.php (if sensitive)

Production deployment

1ï¸âƒ£ Use same docker-compose.yml on VPS.
2ï¸âƒ£ Map 80:80 on VPS.
3ï¸âƒ£ Point your domain to VPS IP.
4ï¸âƒ£ (Optional) Add HTTPS reverse proxy with nginx or Caddy.

Future TODOs
	â€¢	Add Caddyfile or nginx config for automated HTTPS.
	â€¢	Add automatic database backup script.
	â€¢	Create GitHub Actions CI to build and deploy.

â¸»

Notes
	â€¢	This project is intentionally simple and opinionated â€” no extra dependencies.
	â€¢	It is safe for beginners and advanced developers alike.

## Environment Setup
- Development environment variables
- Production environment variables
- Staging environment variables

## Development Workflows
1. Local Development
   - Theme development
   - Plugin development
   - Database management
   - Debugging tools

2. Version Control
   - Git workflow
   - Branch strategy
   - Commit guidelines
   - Code review process

3. Testing
   - Unit testing
   - Integration testing
   - Performance testing
   - Security testing

## Deployment
1. Local Development
   ```bash
   # Start development environment
   docker-compose -f docker-compose.yml -f docker-compose.dev.yml up -d
   
   # Run tests
   ./scripts/test.sh
   
   # Build assets
   ./scripts/build.sh
   ```

2. Staging Deployment
   ```bash
   # Deploy to staging
   ./scripts/deploy.sh staging
   
   # Run staging tests
   ./scripts/test.sh staging
   ```

3. Production Deployment
   ```bash
   # Deploy to production
   ./scripts/deploy.sh production
   
   # Verify deployment
   ./scripts/verify.sh
   ```

## Security
1. SSL/TLS Configuration
   - Let's Encrypt setup
   - Custom SSL certificates
   - SSL renewal automation

2. Backup & Restore
   - Automated backups
   - Manual backups
   - Restore procedures
   - Backup verification

3. User Management
   - User roles
   - Permission guidelines
   - Security best practices

## Performance
1. Optimization
   - Caching configuration
   - Database optimization
   - Asset optimization
   - CDN integration

2. Monitoring
   - Log management
   - Performance metrics
   - Error tracking
   - Uptime monitoring

## Troubleshooting
1. Common Issues
   - Container issues
   - Database issues
   - WordPress issues
   - Network issues

2. Debug Tools
   - Log analysis
   - Performance profiling
   - Security scanning
   - Database inspection

## Maintenance
1. Regular Tasks
   - Backup verification
   - Security updates
   - Performance monitoring
   - Log rotation

2. Emergency Procedures
   - Incident response
   - Data recovery
   - Service restoration
   - Communication plan

